import{_ as V,u as T,b as $,r,o as U,e as h,f as j,g as L,w as n,M,h as R,i as t,j as s,t as b,k as i,p as z,l as F}from"./index-u4UE1VvR.js";const l=_=>(z("data-v-b5224b5e"),_=_(),F(),_),P={class:"p-2"},E=l(()=>t("h2",{class:"text-xl font-bold m-8"},"Statement Analysis Result",-1)),J={class:"p-2 md:p-8"},O=l(()=>t("i",{class:"fas fa-arrow-left mr-2"},null,-1)),q={class:"bg-white shadow-lg rounded-lg p-4 mt-2"},G={class:"text-xl font-semibold text-blue-700"},H={class:"grid grid-cols-1 md:grid-cols-3 gap-6 text-gray-700 mt-4"},K=l(()=>t("i",{class:"fas fa-calendar mr-2"},null,-1)),Q=l(()=>t("strong",null,"Statement Period:",-1)),W=l(()=>t("br",null,null,-1)),X=l(()=>t("i",{class:"fas fa-user-circle mr-2"},null,-1)),Y=l(()=>t("strong",null,"Customer Name:",-1)),Z=l(()=>t("br",null,null,-1)),tt={class:"text-right mt-4"},et=l(()=>t("i",{class:"fas fa-download mr-2"},null,-1)),at={class:"mt-6"},st={__name:"StatementAnalysis",setup(_){const I=T(),g=$(),B=r(null),y=r(!0),w=r(null),A=r(""),m=r(""),p=r(""),C=async o=>{var c,S,N,x;const a=JSON.parse(localStorage.getItem("data")||"{}"),f=(a==null?void 0:a.token)||g.token,v=`https://dev02201.getjupita.com/api/${((c=a==null?void 0:a.user)==null?void 0:c.tenant_id)||g.tenant_id}/get-analysis-result?analysis_id=${o}`;try{const u=await R.get(v,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});console.log("statement analysis result page data:",u),B.value=u.data;const e=(x=(N=(S=u.data)==null?void 0:S.data)==null?void 0:N.analysis_result)==null?void 0:x.analysis_result;A.value=(e==null?void 0:e.name)||"N/A",m.value=(e==null?void 0:e.clientFullName)||"N/A";const k=new Date(e==null?void 0:e.createdDate),D=new Date(e==null?void 0:e.endDate);!isNaN(k)&&!isNaN(D)?p.value=`${k.toLocaleDateString()} - ${D.toLocaleDateString()}`:p.value="Unknown period"}catch(u){console.error("Error fetching analysis result:",u),w.value="Unable to fetch analysis result."}finally{y.value=!1}};return U(()=>{const o=I.params.id;o?C(o):(w.value="Invalid analysis ID.",y.value=!1)}),(o,a)=>{const f=h("v-btn"),d=h("v-tab"),v=h("v-tabs");return j(),L(M,null,{default:n(()=>[t("div",P,[E,t("div",J,[t("button",{onClick:a[0]||(a[0]=(...c)=>o.goBack&&o.goBack(...c)),class:"flex items-center text-blue-600 font-semibold"},[O,s(" Back ")]),t("div",q,[t("h1",G,b(m.value),1),t("div",H,[t("p",null,[K,Q,s(),W,s(" "+b(p.value),1)]),t("p",null,[X,Y,s(),Z,s(" "+b(m.value),1)]),t("div",tt,[i(f,{"no-uppercase":"",size:"large",class:"normal-case p-4 bg-blue-600 hover:bg-blue-700 text-white text-none mr-2 custom-btn"},{default:n(()=>[et,s(" Download Analysis ")]),_:1})])])]),t("div",at,[i(v,{"align-tabs":"center",class:"mb-4",modelValue:o.activeTab,"onUpdate:modelValue":a[1]||(a[1]=c=>o.activeTab=c),color:"primary"},{default:n(()=>[i(d,{value:"summary"},{default:n(()=>[s("Summary")]),_:1}),i(d,{value:"cash flow"},{default:n(()=>[s("Cash Flow")]),_:1}),i(d,{value:"behavioral"},{default:n(()=>[s("Behavioral")]),_:1}),i(d,{value:"transactions"},{default:n(()=>[s("Transactions")]),_:1})]),_:1},8,["modelValue"])])])])]),_:1})}}},lt=V(st,[["__scopeId","data-v-b5224b5e"]]);export{lt as default};
